<head>
	<meta http-equiv="Content-Security-Policy" content="script-src 'self' https://ckeditor.com 'unsafe-inline' 'unsafe-eval'">
	<!-- For a totally unknown reason, Travis and Vimeo do not like each other and the test fail on CI. -->
	<meta name="x-cke-crawler-ignore-patterns" content='{
		"request-failure": "vimeo.com",
		"response-failure": "vimeo.com",
		"console-error": [ "<svg> attribute preserveAspectRatio", "vimeo.com" ]
	}'>
</head>

<div style="margin-bottom: 10px;">
	<button type="button" id="clear-content">Clear editor</button><button id="clear-revision-history">Clear revision history</button>
</div>

<div style="margin-bottom: 10px;">
	<h4>Editor modes:</h4>
	<div class="editor-modes">
		<fieldset>
			<legend>Read only:</legend>

			<input type="radio" id="read-only-no" name="readonly" checked>
			<label for="read-only-no">No</label><br />

			<input type="radio" id="read-only-yes" name="readonly">
			<label for="read-only-yes">Yes</label><br />
		</fieldset>
		<fieldset>
			<legend>Comments only:</legend>

			<input type="radio" id="comments-only-no" name="commentsonly" checked>
			<label for="comments-only-no">No</label><br />

			<input type="radio" id="comments-only-yes" name="commentsonly">
			<label for="comments-only-yes">Yes</label><br />
		</fieldset>
		<fieldset>
			<legend>Track changes:</legend>

			<input type="radio" id="track-changes-no" name="trackchanges" checked>
			<label for="track-changes-no">No</label><br />

			<input type="radio" id="track-changes-yes" name="trackchanges">
			<label for="track-changes-yes">Yes</label><br />
		</fieldset>
		<fieldset>
			<legend>Restricted editing:</legend>

			<input type="radio" id="restricted-editing-no" name="restrictedediting" checked>
			<label for="restricted-editing-no">No</label><br />

			<input type="radio" id="restricted-editing-yes" name="restrictedediting">
			<label for="restricted-editing-yes">Yes</label><br />
		</fieldset>
	</div>
</div>

<div class="editors-holder">
	<div id="editor-container">
		<div class="editor-container">
			<div id="editor"></div>
			<div class="sidebar-container" id="sidebar-container"></div>
		</div>
	</div>

	<div id="revision-viewer-container">
		<div class="editor-container">
			<div id="revision-viewer-editor"></div>
			<div class="sidebar-container" id="revision-viewer-sidebar"></div>
		</div>
	</div>
</div>

<!--
	Note that both TrackChangesEditing._enabledCommands and TrackChangesCommand._enabledCommands are private
	so we just list all unsupported commands here by hand.
-->
<div class="track-changes-info hidden">
	<h3>Track changes unsupported commands:</h3>
	<h4>Affects content <strong>false</strong></h4>
	<ul class="affects-content-false"></ul>
	<h4>Affects content <strong>true</strong></h4>
	<ul class="affects-content-true"></ul>
</div>

<style>
	.editor-modes {
		display: flex;
	}

	.editors-holder {
		position: relative;
	}

	.editor-container {
		display: flex;
		flex-direction: row;
		flex-wrap: nowrap;
		position: relative;
		width: 1260px;
	}

	.presence {
		position: relative;
		margin: 15px 25px;
		height: 46px;
	}

	#revision-viewer-container {
		display: none;
	}

	.editor-toolbar {
		width: 1260px;
		margin-bottom: -1px;
	}

	.editor-element {
		width: 950px;
		border: 1px solid var(--ck-color-toolbar-border);
	}

	.editor-container > .ck-editor {
		position: relative;
		width: 950px;
	}

	.editor-container .ck-editor__top .ck-toolbar {
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
	}

	.editor-container .ck-editor__editable_inline {
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
	}

	.sidebar-container {
		position: relative;
		width: 310px;
		overflow: hidden;
		background: var(--ck-color-toolbar-background);
		border: 1px solid var(--ck-color-toolbar-border);
		margin-left: -1px;
	}

	/* Move the square with page number from the Pagination plugin to the left side,
	so that it does not cover the sidebar. */
	.ck.ck-pagination-view-line::after {
		transform: translateX(-100%);
		left: -1px;
		right: unset;
	}

	.track-changes-info {
		margin: 15px 0;
	}

	.track-changes-info.hidden {
		display: none;
	}
</style>
